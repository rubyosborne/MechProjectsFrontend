{"ast":null,"code":"import _slicedToArray from\"/Users/rubyosborne/forreal/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import{Typography,Toolbar,Avatar,Button}from'@material-ui/core';import{Link,useHistory,useLocation}from'react-router-dom';import{useDispatch}from'react-redux';import decode from'jwt-decode';import\"./NavBar.css\";import*as actionType from'../../constants/actionTypes';import useStyles from'./styles';import{FaWrench,FaTimes,FaBars}from'react-icons/fa';var Navbar=function Navbar(){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),click=_useState2[0],setClick=_useState2[1];var _useState3=useState(true),_useState4=_slicedToArray(_useState3,2),button=_useState4[0],setButton=_useState4[1];var handleClick=function handleClick(){return setClick(!click);};var closeMobileMenu=function closeMobileMenu(){return setClick(false);};var _useState5=useState(JSON.parse(localStorage.getItem('profile'))),_useState6=_slicedToArray(_useState5,2),user=_useState6[0],setUser=_useState6[1];var dispatch=useDispatch();var location=useLocation();var history=useHistory();var classes=useStyles();var logout=function logout(){dispatch({type:actionType.LOGOUT});history.push('/auth');setUser(null);};useEffect(function(){var token=user===null||user===void 0?void 0:user.token;if(token){var decodedToken=decode(token);if(decodedToken.exp*1000<new Date().getTime())logout();}setUser(JSON.parse(localStorage.getItem('profile')));},[location]);return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"nav\",{className:\"navbar\"},/*#__PURE__*/React.createElement(\"div\",{className:\"navbar-container\"},/*#__PURE__*/React.createElement(Link,{to:\"/\",className:\"navbar-logo\",onClick:closeMobileMenu},\"MechaProjects\",/*#__PURE__*/React.createElement(FaWrench,null)),/*#__PURE__*/React.createElement(\"div\",{className:\"menu-icon\",onClick:handleClick},click?/*#__PURE__*/React.createElement(FaTimes,{color:\"white\"}):/*#__PURE__*/React.createElement(FaBars,{color:\"white\"})),/*#__PURE__*/React.createElement(\"ul\",{className:click?'nav-menu active':'nav-menu'},/*#__PURE__*/React.createElement(\"li\",{className:\"nav-item\"},/*#__PURE__*/React.createElement(Link,{to:\"/posts\",className:\"nav-links\",onClick:closeMobileMenu},\"Projects\")),/*#__PURE__*/React.createElement(\"li\",{className:\"nav-item\"},/*#__PURE__*/React.createElement(Link,{to:\"/aboutUs\",className:\"nav-links\",onClick:closeMobileMenu},\"About Us\")),/*#__PURE__*/React.createElement(\"li\",{className:\"nav-item\"}),/*#__PURE__*/React.createElement(Toolbar,{className:classes.toolbar},(user===null||user===void 0?void 0:user.result)?/*#__PURE__*/React.createElement(\"div\",{className:classes.profile},/*#__PURE__*/React.createElement(Avatar,{className:classes.purple,alt:user===null||user===void 0?void 0:user.result.name,src:user===null||user===void 0?void 0:user.result.imageUrl},user===null||user===void 0?void 0:user.result.name.charAt(0)),/*#__PURE__*/React.createElement(Typography,{className:classes.userName,variant:\"h6\"},user===null||user===void 0?void 0:user.result.name),/*#__PURE__*/React.createElement(Button,{variant:\"contained\",className:classes.logout,style:{backgroundColor:\"#c721dd\",color:\"#f4f4f4\"},onClick:logout},\"Logout\")):/*#__PURE__*/React.createElement(Button,{component:Link,to:\"/auth\",onClick:closeMobileMenu,variant:\"contained\",style:{backgroundColor:\"#c721dd\",color:\"#f4f4f4\"}},\"Sign In\"))))));};export default Navbar;","map":{"version":3,"sources":["/Users/rubyosborne/forreal/client/src/components/Navbar/Navbar.js"],"names":["React","useState","useEffect","Typography","Toolbar","Avatar","Button","Link","useHistory","useLocation","useDispatch","decode","actionType","useStyles","FaWrench","FaTimes","FaBars","Navbar","click","setClick","button","setButton","handleClick","closeMobileMenu","JSON","parse","localStorage","getItem","user","setUser","dispatch","location","history","classes","logout","type","LOGOUT","push","token","decodedToken","exp","Date","getTime","toolbar","result","profile","purple","name","imageUrl","charAt","userName","backgroundColor","color"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport {  Typography, Toolbar, Avatar, Button } from '@material-ui/core';\nimport { Link, useHistory, useLocation } from 'react-router-dom';\nimport { useDispatch } from 'react-redux';\nimport decode from 'jwt-decode';\nimport \"./NavBar.css\";\nimport * as actionType from '../../constants/actionTypes';\nimport useStyles from './styles';\nimport { FaWrench , FaTimes, FaBars } from 'react-icons/fa'\n\nconst Navbar = () => {\n  const [click, setClick] = useState(false);\n  const [button, setButton] = useState(true);\n  const handleClick = () => setClick(!click);\n  const closeMobileMenu = () => setClick(false);\n  const [user, setUser] = useState(JSON.parse(localStorage.getItem('profile')));\n  const dispatch = useDispatch();\n  const location = useLocation();\n  const history = useHistory();\n  const classes = useStyles();\n\n  const logout = () => {\n    dispatch({ type: actionType.LOGOUT });\n\n    history.push('/auth');\n\n    setUser(null);\n  };\n\n  useEffect(() => {\n    const token = user?.token;\n\n    if (token) {\n      const decodedToken = decode(token);\n\n      if (decodedToken.exp * 1000 < new Date().getTime()) logout();\n    }\n\n    setUser(JSON.parse(localStorage.getItem('profile')));\n  }, [location]);\n\n  return (\n    <>\n     <nav className='navbar'>\n     <div className='navbar-container'>\n     <Link to='/' className='navbar-logo' onClick={closeMobileMenu}>\n            MechaProjects\n          <FaWrench/>\n          </Link>\n          <div className='menu-icon' onClick={handleClick}>\n            {click ? (<FaTimes color='white'/>) : (<FaBars color='white'/>)} \n          </div>\n          <ul className={click ? 'nav-menu active' : 'nav-menu'}>\n            <li className='nav-item'>\n              <Link to='/posts' className='nav-links' onClick={closeMobileMenu}>\n              Projects\n              </Link>\n            </li>\n            <li className='nav-item'>\n              <Link\n                to='/aboutUs'\n                className='nav-links'\n                onClick={closeMobileMenu}\n              >\n                About Us\n              </Link>\n            </li>\n            <li className='nav-item'>\n         \n        </li>\n      <Toolbar className={classes.toolbar}>\n        {user?.result ? (\n          <div className={classes.profile}>\n            <Avatar className={classes.purple} alt={user?.result.name} src={user?.result.imageUrl}>{user?.result.name.charAt(0)}</Avatar>\n            <Typography className={classes.userName} variant=\"h6\">{user?.result.name}</Typography>\n            <Button variant=\"contained\" className={classes.logout} style ={{backgroundColor:\"#c721dd\", color: \"#f4f4f4\"}} onClick={logout}>Logout</Button>\n          </div>\n        ) : (\n          <Button component={Link} to=\"/auth\" onClick={closeMobileMenu} variant=\"contained\" style ={{backgroundColor:\"#c721dd\", color: \"#f4f4f4\"}}>Sign In</Button>\n        )}\n      </Toolbar>\n      </ul>\n      </div>\n      </nav>\n      </>\n  );\n};\n\nexport default Navbar;\n"]},"metadata":{},"sourceType":"module"}